<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>MAPO SOLUTIONS - INDEX</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <!-- Favicons -->
    <link href="assets/img/Favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <!-- Vendor CSS Files -->
    <link
      href="assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />
    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet" />
  </head>

  <body class="index-page">
    <header id="header" class="header d-flex align-items-center sticky-top">
      <div
        class="container position-relative d-flex align-items-center justify-content-between"
      >
        <a
          href="index.html"
          class="logo d-flex align-items-center me-auto me-xl-0"
        >
          <img src="assets/img/logo.png" alt="" />
          <!-- <h1 class="sitename">MAPO SOLUTIONS</h1> -->
        </a>

        <nav id="navmenu" class="navmenu">
          <ul>
            <li><a href="#hero" class="active">Recalls</a></li>
          </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <table
          class="table table-success table-striped-columns text-center"
          id="contacttable"
        >
          <thead>
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Subject</th>
              <th scope="col">Message</th>
              <th scope="col">Date & Time</th>
              <!-- <th scope="col">Action</th> -->
            </tr>
          </thead>
          <tbody class="table-group-divider"></tbody>
        </table>
      </div>
    </main>

    <!-- <footer id="footer" class="footer light-background">
      <div class="container">
        <div class="row gy-3">
          <div class="col-lg-3 col-md-6 d-flex">
            <i class="bi bi-geo-alt icon"></i>
            <div class="address">
              <h4>Address</h4>
              <p>H/No 33 Karim Street, Capital Road</p>
              <p>New Model Town, Sialkot. Pakistan</p>
              <p></p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-flex">
            <i class="bi bi-telephone icon"></i>
            <div>
              <h4>Contact</h4>
              <p>
                <strong>Tel:</strong> <span>+92-52-7050232</span><br />
                <strong>Email:</strong> <span>maposolutions22@gmail.com</span
                ><br />
              </p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-flex">
            <i class="bi bi-clock icon"></i>
            <div>
              <h4>Opening Hours</h4>
              <p>
                <strong>Mon-Sat:</strong> <span>9AM - 6PM</span><br />
                <strong>Sunday</strong>: <span>Closed</span>
              </p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6">
            <h4>Follow Us</h4>
            <div class="social-links d-flex">
              <a href="#" class="twitter"><i class="bi bi-twitter-x"></i></a>
              <a href="#" class="facebook"><i class="bi bi-facebook"></i></a>
              <a href="#" class="instagram"><i class="bi bi-instagram"></i></a>
              <a href="#" class="linkedin"><i class="bi bi-linkedin"></i></a>
            </div>
          </div>
        </div>
      </div>

      <div class="container copyright text-center mt-4">
        <p>
          Â© <span>Copyright</span>
          <strong class="px-1 sitename">MAPO SOLUTTIONS</strong>
          <span>All Rights Reserved</span>
        </p>
        <div class="credits">
          Designed by <a href="https://smisofts.com/">SMI SOFTS</a>
        </div>
      </div>
    </footer> -->

    <!-- Scroll Top -->
    <a
      href="#"
      id="scroll-top"
      class="scroll-top d-flex align-items-center justify-content-center"
      ><i class="bi bi-arrow-up-short"></i
    ></a>

    <!-- Preloader -->
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="assets/vendor/php-email-form/validate.js"></script> -->
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>

    <!-- Main JS File -->
    <script src="assets/js/main.js"></script>
    <!-- <script src="assets/js/contact.js"></script> -->

    <script type="module">
    //  Show Data 
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        onValue,
      } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-database.js";

      // Firebase config (tumhara project)
      const firebaseConfig = {
        apiKey: "AIzaSyD-J9ZrHVKMq3aP2pRWy1yo7gMxq8DyMBs",
        authDomain: "maposolutions-pro.firebaseapp.com",
        databaseURL:
          "https://maposolutions-pro-default-rtdb.europe-west1.firebasedatabase.app/",
        projectId: "maposolutions-pro",
        storageBucket: "maposolutions-pro.appspot.com",
        messagingSenderId: "1041332061590",
        appId: "1:1041332061590:web:425f9db0a31738881589b7",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getDatabase(app);

      const tableBody = document.querySelector("#contacttable tbody");
      const contactsRef = ref(db, "contacts");

      onValue(contactsRef, (snapshot) => {
        tableBody.innerHTML = ""; // Clear table before adding
        snapshot.forEach((childSnapshot) => {
          const 
          firebaseKey = childSnapshot.key;
          const data = childSnapshot.val();
          const row = document.createElement("tr");

          const submittedAt = data.createdAt
            ? new Date(data.createdAt).toLocaleString()
            : "";

          row.innerHTML = `
        <td>${firebaseKey}</td>
        <td>${data.name || ""}</td>
        <td>${data.email || ""}</td>
        <td>${data.subject || ""}</td>
        <td>${data.message || ""}</td>
        <td>${submittedAt}</td>
      `;
          tableBody.appendChild(row);
        });
      });
    </script>
  </body>
</html>



<!--     // <td>
        //     <div class="hero-btns" data-aos="fade-up" data-aos-delay="300">
        //         <button 
        //           class="btn btn-danger"
        //           onclick="deleteContact('${firebaseKey}')">
        //           Delete
        //         </button>
        //     </div>
        // </td> -->